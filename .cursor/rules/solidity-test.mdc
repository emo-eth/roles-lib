---
description: Solidity test files
globs: *.t.sol
---
# Solidity Tests
- Test names should follow the pattern `test_functionName{,_fail_MySpecificError}`
- Never use `vm.expectRevert()` without any args; always expect specific reverts using `File.SpecificError.selector` (abi-encoding args as necessary).
- Always test events using `expectEmit`
- Use `mockCall` sparingly
- When testing functions that take relatively simple user-input, fuzz the inputs by giving the test function arguments. use `vm.bound` to restrict inputs as necessary.
- Import `console2` from `forge-std/Test.sol` when logging is necessary or requested.
- When accessing Forge Cheatcode structs, `import { VmSafe } from "forge-std/Vm.sol"` and access with `Vm\{,Safe\}.StructName`
- Use `makeAddr`, `makeAccount`, or `makeWallet` when creating test addresses/accounts. These methods take a string argument.